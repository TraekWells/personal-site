import $ from"./ContentDoc.9e21b858.js";import x from"./BlogCard.8a3aa9d2.js";import{k as A,z as v,W as y,O as B,o as n,b as r,f as t,u as i,X as m,Y as p,Z as M,$ as l,e as D,c as q}from"./entry.3d41bf26.js";import{u as g}from"./asyncData.b14b91af.js";import{u as O}from"./composables.56ced145.js";import{q as w}from"./query.100df598.js";import{g as S}from"./getMetaData.a7dddaf0.js";import"./ContentRenderer.debb769c.js";import"./ContentRendererMarkdown.7b241552.js";import"./_commonjsHelpers.fed2a411.js";import"./ContentQuery.08645731.js";import"./utils.9e3ab596.js";const N={class:"post"},V={class:"header"},W={class:"container container--narrow"},E={key:0,class:"post__tags"},I={class:"lead"},j={class:"section"},z={class:"container container--narrow"},F={class:"content"},H={class:"content__text"},L={class:"content__info"},R={class:"content__sidebar"},T=t("p",null,"Table of Contents",-1),X=["href"],Y={class:"section section--secondary"},Z={class:"container container--narrow"},G=t("h2",null,"More Stuff I've Written",-1),J={class:"blogs"},_t={__name:"[slug]",async setup(K){let s,_;const{path:c}=A(),h=v([]),f=v(0),{data:e}=([s,_]=y(()=>g(`content-${c}`,()=>w("/blog").where({_path:c}).findOne())),s=await s,_(),s),{data:k}=([s,_]=y(()=>g(`more-content-${c}`,()=>w("/blog").where({_path:{$ne:c}}).find())),s=await s,_(),s),b=()=>{const a=document.querySelector(".content__info + div").textContent.trim().split(/\s+/).length;f.value=Math.ceil(a/250)};return B(()=>{Array.from(document.querySelectorAll(".content h2")).forEach(u=>{const a={};a.text=u.textContent,a.link=u.id,h.value.push(a)}),b()}),O({meta:()=>{const d={type:"article",url:`https://traekwells.com${c}`,title:e.value.title,description:e.value.summary,image:e.value.previewImage};return S(d,{property:"article:published_time",content:e.value.createdAt},{property:"article:modified_time",content:e.value.updatedAt})},title:e.value.title,link:[{hid:"canonical",rel:"canonical",href:`https://traekwells.com${c}`}]}),(d,u)=>{const a=$,C=x;return n(),r("main",N,[t("header",V,[t("div",W,[i(e).tags?(n(),r("ul",E,[(n(!0),r(m,null,p(i(e).tags,o=>(n(),r("li",{key:o,class:"post__tag"},l(o),1))),128))])):M("",!0),t("h1",null,l(i(e).title),1),t("p",I,l(i(e).summary),1)])]),t("article",j,[t("div",z,[t("div",F,[t("div",H,[t("div",L,[t("p",null,"About a "+l(f.value)+" minute read.",1)]),D(a)]),t("div",R,[T,t("ul",null,[(n(!0),r(m,null,p(h.value,o=>(n(),r("li",{key:o.id},[t("a",{href:`#${o.link}`},l(o.text),9,X)]))),128))])])])])]),t("article",Y,[t("div",Z,[G,t("div",J,[(n(!0),r(m,null,p(i(k),o=>(n(),q(C,{key:o.path,post:o},null,8,["post"]))),128))])])])])}}};export{_t as default};
