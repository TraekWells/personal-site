import w from"./ContentDoc.9e21b858.js";import{k,z as h,W as C,O as b,o as r,b as c,f as t,u as l,X as f,Y as y,Z as x,$ as i,e as D}from"./entry.3d41bf26.js";import{u as A}from"./asyncData.b14b91af.js";import{u as $}from"./composables.56ced145.js";import{q as M}from"./query.100df598.js";import{g as q}from"./getMetaData.a7dddaf0.js";import"./ContentRenderer.debb769c.js";import"./ContentRendererMarkdown.7b241552.js";import"./_commonjsHelpers.fed2a411.js";import"./ContentQuery.08645731.js";import"./utils.9e3ab596.js";const O={class:"post"},S={class:"header"},j={class:"container container--narrow"},B={key:0,class:"post__tags"},N={class:"lead"},V={class:"section"},W={class:"container container--narrow"},E={class:"content"},L={class:"content__text"},z={class:"content__info"},F={class:"content__sidebar"},H=t("p",null,"Table of Contents",-1),I=["href"],ot={__name:"[slug]",async setup(R){let u,d;const{path:_}=k(),m=h([]),p=h(0),{data:e}=([u,d]=C(()=>A(`content-${_}`,()=>M("/journal").where({_path:_}).findOne())),u=await u,d(),u),v=n=>{const s={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("en",s)},g=()=>{const o=document.querySelector(".content__info + div").textContent.trim().split(/\s+/).length;p.value=Math.ceil(o/250)};return b(()=>{Array.from(document.querySelectorAll(".content h2")).forEach(s=>{const o={};o.text=s.textContent,o.link=s.id,m.value.push(o)}),g()}),$({meta:()=>{const n={type:"article",url:`https://traekwells.com${_}`,title:e.value.title,description:e.value.summary,image:e.value.previewImage};return q(n,{property:"article:published_time",content:e.value.createdAt},{property:"article:modified_time",content:e.value.updatedAt})},title:e.value.title,link:[{hid:"canonical",rel:"canonical",href:`https://traekwells.com${_}`}]}),(n,s)=>{const o=w;return r(),c("main",O,[t("header",S,[t("div",j,[l(e).tags?(r(),c("ul",B,[(r(!0),c(f,null,y(l(e).tags,a=>(r(),c("li",{key:a,class:"post__tag"},i(a),1))),128))])):x("",!0),t("h1",null,i(l(e).title),1),t("p",N,i(l(e).summary),1)])]),t("article",V,[t("div",W,[t("div",E,[t("div",L,[t("div",z,[t("p",null," Written on "+i(v(l(e).createdAt))+" and takes about "+i(p.value)+" minutes to read. ",1)]),D(o)]),t("div",F,[H,t("ul",null,[(r(!0),c(f,null,y(m.value,a=>(r(),c("li",{key:a.id},[t("a",{href:`#${a.link}`},i(a.text),9,I)]))),128))])])])])])])}}};export{ot as default};
